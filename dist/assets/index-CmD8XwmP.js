(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const s=document.querySelector("#chat-log"),u=document.querySelector("#userInput"),a=document.querySelector("#user-input-form"),l=document.querySelector("#send-button");async function f(){const r=u.value;s.innerHTML+=`<p><strong>You:</strong> ${r}</p>`,u.value="",d();const o=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})});s.innerHTML+="<p><strong>Bot: </strong></p>";let i=s.querySelector("p:last-child");const c=o.body.getReader();let e="";for(;;){const{done:t,value:n}=await c.read();if(decodedValue=new TextDecoder().decode(n),decodedValue===`
`?e+="<br></br>":e+=decodedValue,console.log(e),i.innerHTML=`<p><strong>Bot: </strong>${e}</p>`,d(),t)return}}function d(){s.scrollTop=s.scrollHeight}a.addEventListener("input",function(){if(u.value===null||u.value.trim()===""){l.setAttribute("disabled","disabled");return}else l.removeAttribute("disabled")});a.addEventListener("submit",function(r){r.preventDefault(),f()});
